{"ast":null,"code":"const API_URL = 'http://localhost:5000/api/messages';\nimport { auth } from '../firebase';\nexport async function getMessages(chatId) {\n  const res = await fetch(`${API_URL}/${chatId}`);\n  if (!res.ok) {\n    throw new Error('Failed to fetch messages');\n  }\n  return res.json();\n}\nexport const sendMessage = async (chatId, text) => {\n  const user = auth.currentUser;\n  const token = user ? await user.getIdToken() : null;\n  return fetch(`/api/messages/${chatId}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      ...(token && {\n        Authorization: `Bearer ${token}`\n      })\n    },\n    body: JSON.stringify({\n      text\n    })\n  }).then(res => {\n    if (!res.ok) throw new Error('Failed to send');\n    return res.json();\n  });\n};","map":{"version":3,"names":["API_URL","auth","getMessages","chatId","res","fetch","ok","Error","json","sendMessage","text","user","currentUser","token","getIdToken","method","headers","Authorization","body","JSON","stringify","then"],"sources":["G:/repositories/chat-app-starter/frontend/src/api/messages.js"],"sourcesContent":["const API_URL = 'http://localhost:5000/api/messages';\r\nimport { auth } from '../firebase';\r\n\r\nexport async function getMessages(chatId) {\r\n  const res = await fetch(`${API_URL}/${chatId}`);\r\n  if (!res.ok) {\r\n    throw new Error('Failed to fetch messages');\r\n  }\r\n  return res.json();\r\n}\r\n\r\nexport const sendMessage = async (chatId, text) => {\r\n  const user = auth.currentUser;\r\n  const token = user ? await user.getIdToken() : null;\r\n\r\n  return fetch(`/api/messages/${chatId}`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      ...(token && { Authorization: `Bearer ${token}` }),\r\n    },\r\n    body: JSON.stringify({ text }),\r\n  }).then(res => {\r\n    if (!res.ok) throw new Error('Failed to send');\r\n    return res.json();\r\n  });\r\n};\r\n\r\n\r\n"],"mappings":"AAAA,MAAMA,OAAO,GAAG,oCAAoC;AACpD,SAASC,IAAI,QAAQ,aAAa;AAElC,OAAO,eAAeC,WAAWA,CAACC,MAAM,EAAE;EACxC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,OAAO,IAAIG,MAAM,EAAE,CAAC;EAC/C,IAAI,CAACC,GAAG,CAACE,EAAE,EAAE;IACX,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;EAC7C;EACA,OAAOH,GAAG,CAACI,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAON,MAAM,EAAEO,IAAI,KAAK;EACjD,MAAMC,IAAI,GAAGV,IAAI,CAACW,WAAW;EAC7B,MAAMC,KAAK,GAAGF,IAAI,GAAG,MAAMA,IAAI,CAACG,UAAU,CAAC,CAAC,GAAG,IAAI;EAEnD,OAAOT,KAAK,CAAC,iBAAiBF,MAAM,EAAE,EAAE;IACtCY,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClC,IAAIH,KAAK,IAAI;QAAEI,aAAa,EAAE,UAAUJ,KAAK;MAAG,CAAC;IACnD,CAAC;IACDK,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEV;IAAK,CAAC;EAC/B,CAAC,CAAC,CAACW,IAAI,CAACjB,GAAG,IAAI;IACb,IAAI,CAACA,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,gBAAgB,CAAC;IAC9C,OAAOH,GAAG,CAACI,IAAI,CAAC,CAAC;EACnB,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}